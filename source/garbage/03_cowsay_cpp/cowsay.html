<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WebAssembly Cowsay Demo</title>
  </head>
  <body>
    <h1>WebAssembly Demo</h1>
    <script>
      var exports;
      WebAssembly.instantiateStreaming(
          fetch("cowsay.wasm"), {}
      ).then(
        // Wasm modulen blir tilgjenglig i global var 
        results => exports = results.instance.exports
      );

      // Javascript funksjon som kjÃ¸rer funksjon c++ metode
      function run_wasm() {
          exports.main("Hello Ulriken")

          document.querySelector("#ret")
              .innerHTML += `${a} => ${sum}<br/>`;
      }
  </script>

  <button onclick="run_wasm()">Trigger</button>

  </body>
</html>
